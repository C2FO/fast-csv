# Change Log

All notable changes to this project will be documented in this file.
See [Conventional Commits](https://conventionalcommits.org) for commit guidelines.

## [5.0.2](https://github.com/C2FO/fast-csv/compare/v5.0.1...v5.0.2) (2024-10-22)

### Bug Fixes

-   **deps:** update docusaurus monorepo to v3.3.2 ([#888](https://github.com/C2FO/fast-csv/issues/888)) ([60f5e27](https://github.com/C2FO/fast-csv/commit/60f5e2759f8d4455dd39745aab88a6eb6f97e83d))
-   **deps:** update docusaurus monorepo to v3.4.0 ([#961](https://github.com/C2FO/fast-csv/issues/961)) ([cef2f2e](https://github.com/C2FO/fast-csv/commit/cef2f2ece4612db7d52bac8bbc34dd181c2b19c0))

## [5.0.2](https://github.com/C2FO/fast-csv/compare/v5.0.1...v5.0.2) (2024-10-22)

** Note: ** Docs libraries update

## [5.0.1](https://github.com/C2FO/fast-csv/compare/v5.0.0...v5.0.1) (2024-02-13)

**Note:** Version bump only for package fast-csv

# [5.0.0](https://github.com/C2FO/fast-csv/compare/v4.3.6...v5.0.0) (2024-01-13)

# BREAKING CHANGES

-   **deps!:** Dropped support for Node.js versions 10, 12, 14 and 15 [#833](https://github.com/C2FO/fast-csv/issues/833)

### Bug Fixes

-   Added missing single quote in error message ([#656](https://github.com/C2FO/fast-csv/issues/656)) ([b9dceab](https://github.com/C2FO/fast-csv/commit/b9dceab207024c75b5bc0a5efb8120ddfebad1f6))
-   **deps:** Fix up [@types](https://github.com/types) node package incorrectly involved in dependencies, closes [#774](https://github.com/C2FO/fast-csv/issues/774) ([#838](https://github.com/C2FO/fast-csv/issues/838)) ([83315a6](https://github.com/C2FO/fast-csv/commit/83315a6b5dea3bf1a355ca50527cfe05e2e1fe37))
-   **deps:** update dependency @types/yargs to v16.0.1 ([024ec2c](https://github.com/C2FO/fast-csv/commit/024ec2c69eef95b2788a1c2d1f788b7914d8be2e))
-   **deps:** update dependency classnames to v2.4.0 ([#642](https://github.com/C2FO/fast-csv/issues/642)) ([3ce8ad8](https://github.com/C2FO/fast-csv/commit/3ce8ad8b57a84e6b00630c0ca82c987de157d248))
-   **deps:** update dependency classnames to v2.5.0 ([#847](https://github.com/C2FO/fast-csv/issues/847)) ([8a38bd2](https://github.com/C2FO/fast-csv/commit/8a38bd275fb53f07a0b2bba99652219f6b660809))
-   **deps:** update dependency classnames to v2.5.1 ([#849](https://github.com/C2FO/fast-csv/issues/849)) ([4187b08](https://github.com/C2FO/fast-csv/commit/4187b08b4d66822b84c92bd60c18893ce5893403))
-   **deps:** update dependency globby to v11.0.2 ([57953cc](https://github.com/C2FO/fast-csv/commit/57953cc55835fb4e0ad38a558eb458bbc975ef2e))
-   **deps:** update dependency globby to v11.0.3 ([e310319](https://github.com/C2FO/fast-csv/commit/e310319baca28180fb6d6ed02e64ab3518763eae))
-   **deps:** update dependency globby to v11.1.0 ([#678](https://github.com/C2FO/fast-csv/issues/678)) ([0ea420d](https://github.com/C2FO/fast-csv/commit/0ea420dd703a78012dbeb88286796c02cba27a99))
-   **deps:** update dependency jest-diff to v29 ([#672](https://github.com/C2FO/fast-csv/issues/672)) ([b962de0](https://github.com/C2FO/fast-csv/commit/b962de04c6da5af858f53d89a4d99b41c8cf016d))
-   **deps:** update dependency yargs to v16.2.0 ([d9420d8](https://github.com/C2FO/fast-csv/commit/d9420d8ae126a3f6be0d404f5bdbc2568ad11b40))
-   **deps:** update dependency yargs to v17 ([#673](https://github.com/C2FO/fast-csv/issues/673)) ([0d33b48](https://github.com/C2FO/fast-csv/commit/0d33b48c77a69895a4602e3b13c7fd0e205a1151))
-   **deps:** update docusaurus monorepo to v2.4.3 ([#531](https://github.com/C2FO/fast-csv/issues/531)) ([ed71ed4](https://github.com/C2FO/fast-csv/commit/ed71ed4ec7f3ce69dbe3ec174ac9e9170f154712))
-   **deps:** update docusaurus monorepo to v3 ([#844](https://github.com/C2FO/fast-csv/issues/844)) ([7fdb903](https://github.com/C2FO/fast-csv/commit/7fdb9032b8a67fd1443c56da36ceb72ddf8c9e94))
-   **deps:** update docusaurus monorepo to v3.1.0 ([#855](https://github.com/C2FO/fast-csv/issues/855)) ([4f67398](https://github.com/C2FO/fast-csv/commit/4f673981120e46a3616ca39f12596f85fe3a0275))
-   **deps:** update react monorepo to v18 ([#845](https://github.com/C2FO/fast-csv/issues/845)) ([a447d06](https://github.com/C2FO/fast-csv/commit/a447d0686cebc7f1a2db157166cfe77ffe52523d))

## [4.3.6](https://github.com/C2FO/fast-csv/compare/v4.3.5...v4.3.6) (2020-12-04)

### Bug Fixes

-   Simplify empty row check by removing complex regex ([4bbd39f](https://github.com/C2FO/fast-csv/commit/4bbd39f26a8cd7382151ab4f5fb102234b2f829e))
-   **deps:** update dependency @types/yargs to v15.0.10 ([9af7a41](https://github.com/C2FO/fast-csv/commit/9af7a410288495c598e8e68705aa530eda56bedb))
-   **deps:** update dependency yargs to v16.1.1 ([057a4da](https://github.com/C2FO/fast-csv/commit/057a4da0089a40406e5be9ba665774b8557657f0))

## [4.3.5](https://github.com/C2FO/fast-csv/compare/v4.3.4...v4.3.5) (2020-11-03)

### Bug Fixes

-   **formatting,#446:** Do not quote fields that do not contain a quote ([13e688c](https://github.com/C2FO/fast-csv/commit/13e688cb38dcb67c7182211968c794146be54692)), closes [#446](https://github.com/C2FO/fast-csv/issues/446)

## [4.3.4](https://github.com/C2FO/fast-csv/compare/v4.3.3...v4.3.4) (2020-11-03)

### Bug Fixes

-   **formatter,#503:** Do not ignore rows when headers is false ([1560564](https://github.com/C2FO/fast-csv/commit/1560564819c8b1254ca4ad43487830a4296570f6)), closes [#503](https://github.com/C2FO/fast-csv/issues/503)

## [4.3.3](https://github.com/C2FO/fast-csv/compare/v4.3.2...v4.3.3) (2020-10-30)

### Bug Fixes

-   **deps:** update dependency @docusaurus/core to v2.0.0-alpha.66 ([8afdd1e](https://github.com/C2FO/fast-csv/commit/8afdd1eab4c0785a3714f10a5f19b41c1365015e))
-   **deps:** update dependency @docusaurus/preset-classic to v2.0.0-alpha.66 ([4a854a1](https://github.com/C2FO/fast-csv/commit/4a854a16a3fd746748d0684c68c86dbd161a639f))
-   **deps:** update dependency @types/yargs to v15.0.9 ([a46ac39](https://github.com/C2FO/fast-csv/commit/a46ac391cdf4fe7de5bc683d13a2ffc735e1b98b))
-   **deps:** update dependency yargs to v16 ([b28b662](https://github.com/C2FO/fast-csv/commit/b28b6624eed13e7b410019da8e70628e991443bd))
-   **deps:** update react monorepo to v17 ([93d3450](https://github.com/C2FO/fast-csv/commit/93d3450d88a63d2e19d2de26f0a8399f877a14a4))

## [4.3.2](https://github.com/C2FO/fast-csv/compare/v4.3.1...v4.3.2) (2020-09-02)

### Bug Fixes

-   **deps:** update dependency yargs to v15.4.1 ([74fd72f](https://github.com/C2FO/fast-csv/commit/74fd72f11905547f96c91ed5ffd5620817072231))
-   **parsing, #423:** Prevent callback from being called multiple times ([040febe](https://github.com/C2FO/fast-csv/commit/040febe17f5fe763a00f45b1d83c5acd47bbbe0b)), closes [#423](https://github.com/C2FO/fast-csv/issues/423)
-   release command ([79ec47f](https://github.com/C2FO/fast-csv/commit/79ec47fa17e0f866835a2c6820851f2e895e9a28))

## [4.3.1](https://github.com/C2FO/fast-csv/compare/v4.3.0...v4.3.1) (2020-06-23)

### Bug Fixes

-   **deps:** update dependency @docusaurus/core to v2.0.0-alpha.56 ([87c9cdb](https://github.com/C2FO/fast-csv/commit/87c9cdbe1ffa76d2935f8824dd6e57271c82b426))
-   **deps:** update dependency @docusaurus/core to v2.0.0-alpha.58 ([7b10f7e](https://github.com/C2FO/fast-csv/commit/7b10f7e16877589c16c74569a764c670803f2268))
-   **deps:** update dependency @docusaurus/preset-classic to v2.0.0-alpha.56 ([2cafdac](https://github.com/C2FO/fast-csv/commit/2cafdac853635334d5b2c28230bf7cb3d7b6e783))
-   **deps:** update dependency @docusaurus/preset-classic to v2.0.0-alpha.58 ([a4a1e3f](https://github.com/C2FO/fast-csv/commit/a4a1e3f9d6793e445ee400b0bebfaeba035010a4))
-   **deps:** update dependency globby to v11.0.1 ([9a21f53](https://github.com/C2FO/fast-csv/commit/9a21f53fd084d42df67d266b8bdb9e3594a8e122))
-   **parsing:** Pass errors through callbacks ([84ecdf6](https://github.com/C2FO/fast-csv/commit/84ecdf6ed18b15d68b4ed3e2bfec7eb41b438ad8))

# [4.3.0](https://github.com/C2FO/fast-csv/compare/v4.2.0...v4.3.0) (2020-05-27)

### Bug Fixes

-   **deps:** update dependency @docusaurus/core to v2.0.0-alpha.55 ([84b8491](https://github.com/C2FO/fast-csv/commit/84b8491dc86f54eac857272d1146dbb79733d793))
-   **deps:** update dependency @docusaurus/preset-classic to v2.0.0-alpha.55 ([9b7e40c](https://github.com/C2FO/fast-csv/commit/9b7e40c36e994a158b2569c4bcef41433563d9fe))

# [4.2.0](https://github.com/C2FO/fast-csv/compare/v4.1.6...v4.2.0) (2020-05-19)

### Bug Fixes

-   **deps:** update dependency @docusaurus/preset-classic to v2.0.0-alpha.54 ([f1fcc46](https://github.com/C2FO/fast-csv/commit/f1fcc4677e9081c0d10bcaaeef7719ca572e306c))
-   **deps:** update dependency @types/yargs to v15 ([44bcccc](https://github.com/C2FO/fast-csv/commit/44bccccf5f0c57a97fa06f592923173b119429b7))
-   **deps:** update react monorepo to v16.13.1 ([cdb0d89](https://github.com/C2FO/fast-csv/commit/cdb0d89ec6400dbe03590c147d4b6a7f275d944c))

### Features

-   **parsing:** Less restrictive row parsing type [#356](https://github.com/C2FO/fast-csv/issues/356) ([87d74ec](https://github.com/C2FO/fast-csv/commit/87d74ecd2cb16f3700b1942ebbbec221afe38790))

## [4.1.6](https://github.com/C2FO/fast-csv/compare/v4.1.5...v4.1.6) (2020-05-15)

### Bug Fixes

-   **deps:** update dependency @docusaurus/core to v2.0.0-alpha.54 ([24a0473](https://github.com/C2FO/fast-csv/commit/24a04730e4f6d981f8e69227bf67c1f07b9352c3))
-   **parse:** Handle escaped escape properly [#340](https://github.com/C2FO/fast-csv/issues/340) ([78d9b16](https://github.com/C2FO/fast-csv/commit/78d9b160152ee399f31086cc6b5f66a7ca7f9e24))

## [4.1.5](https://github.com/C2FO/fast-csv/compare/v4.1.4...v4.1.5) (2020-05-15)

### Bug Fixes

-   Fix for [#345](https://github.com/C2FO/fast-csv/issues/345) remove revert to old tsconfig.build ([aa4488f](https://github.com/C2FO/fast-csv/commit/aa4488f719ffe24a9bed3fb3e0b24efb5fdc7627))

## [4.1.4](https://github.com/C2FO/fast-csv/compare/v4.1.3...v4.1.4) (2020-05-15)

### Bug Fixes

-   Fix lerna:version command ([6da1eb3](https://github.com/C2FO/fast-csv/commit/6da1eb30bb15fc57d3afcca2d6b9e115d26d0191))

## v4.1.2

-   New Docs powered by Docusaurus!
-   New logo courtesy of [@dylanstanfield](https://github.com/dylanstanfield)

## v4.1.1

-   [FIXED] Issue where code is not built before publishing. [#329](https://github.com/C2FO/fast-csv/issues/329)

## v4.1.0

-   [ADDED] A new `headers` event that will be emitted when headers are parsed [#321] (https://github.com/C2FO/fast-csv/issues/321)

## v4.0.3

-   [FIXED] Issue where invalid rows were not accounted for when skipRows was set [#317](https://github.com/C2FO/fast-csv/issues/317)
-   [FIXED] Issue where readableObjectMode was not set to false when formatting [#319](https://github.com/C2FO/fast-csv/issues/319)
-   [FIXED] Issue where carriage returns and line feeds were not always quoted when formatting [#320](https://github.com/C2FO/fast-csv/issues/320)

## v4.0.2

-   [ADDED] `writeHeaders` to `@fast-csv/format` option to prevent writing headers.
    -   This makes appending to a csv easier and safer because you can still specify headers without writing them.

## v4.0.1

-   [FIXED] package.json homepage links
-   [ADDED] version npm script

## v4.0.0

-   Migrated from mocha to jest
-   Moved to `lerna`.
    -   Split `parse` and `format` packages
-   Added running examples and checking output as part of the tests
-   Updated docs for new directory layout
-   Added typescript examples
-   Added generics type support to format and parse streams
-   [ADDED] Docs around using `strictColumnHandling` to emit errors when there are more columns than headers [#195]

## v3.7.0

-   [ADDED] Ability to Transform Header [#287](https://github.com/C2FO/fast-csv/issues/287)
-   [ADDED] Example require and import to README [#301](https://github.com/C2FO/fast-csv/issues/301)
-   [ADDED] Added new formatting option `alwaysWriteHeaders` to always write headers even if no rows are provided [#300](https://github.com/C2FO/fast-csv/issues/300)
-   [ADDED] Appending to csv example and docs [#272](https://github.com/C2FO/fast-csv/issues/300)
-   [FIXED] Issue with duplicate headers causing dataloss, duplicate headers will can an error to be emitted. [#276](https://github.com/C2FO/fast-csv/issues/272)
-   [FIXED] Issue where an error thrown while processing rows causes stream continue to parse, causing duplicate writes or swallowed exceptions.

## v3.6.0

-   [ADDED] `maxRows` option to limit the number of rows parsed. [#275](https://github.com/C2FO/fast-csv/issues/275) [#277](https://github.com/C2FO/fast-csv/pull/277) - [@cbrittingham](https://github.com/cbrittingham)
-   [ADDED] `skipRows` to allow skipping parsed rows see [parsing.md](./docs/parsing.md)
-   [ADDED] `skipLines` to allow skipping entire lines of a csv [parsing.md](./docs/parsing.md) [#267](https://github.com/C2FO/fast-csv/issues/267)
-   Exported formatting and parsing types.
-   Removed `.npmignore` in favor of `package.json` files

## v3.5.0

-   Upgraded dependencies
-   Reformatted code with prettier
-   [FIXED] Entire lodash is imported, bloating dependencies [#281](https://github.com/C2FO/fast-csv/issues/281)

## v3.4.0

-   [FIXED] formatter.js: Disabling quote doesn't work [#97](https://github.com/C2FO/fast-csv/issues/97)
    -   Changed to allow the `quote` option to be provided as a boolean so when set to false all quoting is ignored.
-   [ADDED] `writeBOM` option when formatting a csv [#180](https://github.com/C2FO/fast-csv/issues/180)
-   Added tests for [#102](https://github.com/C2FO/fast-csv/issues/102)

## v3.3.0

-   [FIXED] First row of CSV is removed when headers array is provided [#252](https://github.com/C2FO/fast-csv/issues/252)

## v3.2.0

-   [FIXED] Invalid row index doesn't reflect original row count [#130](https://github.com/C2FO/fast-csv/issues/130) [#266](https://github.com/C2FO/fast-csv/pull/266) - [@chrwnsk](https://github.com/chrwnsk)

## v3.1.0

-   Skip trailing whitespace after a quoted field [#223](https://github.com/C2FO/fast-csv/pull/223) - [@peet](https://github.com/peet)
-   Add support for passing in encoding. [#185](https://github.com/C2FO/fast-csv/pull/185) - [@pierrelouisd4j](https://github.com/pierrelouisd4j)

## v3.0.2

-   Update lodash to address [#260](https://github.com/C2FO/fast-csv/pull/260)

## v3.0.1

-   Update `.npmignore` to not exclude build directory

## v3.0.0

-   Updated to Node 8
-   Rewrote in Typescript

## Parsing Changes

-   Calling the library as a function has been removed in favor of `csv.parse`.
    -   `csv()` change to `csv.parse()`
-   Deprecated `fromString` in favor of `parseString`
    -   `csv.fromString()` change to `csv.parseString()`
-   Deprecated `fromStream` in favor of `parseStream`a
    -   `csv.fromStream()` change to `csv.parseStream()`
-   Deprecated`fromPath` in favor of `parseFile`
    -   `csv.fromPath()` change to `csv.parseFile()`

## Formatting Changes

-   `csv.createWriteStream` has been removed in favor of `csv.format`
-   `csv.writeToBuffer` and `csv.writeToString` no longer accepts a `callback`, instead they return a promise `Promise`

## v2.5.0

-   Use safer-buffer polyfill to support node >= 8.

## v2.4.1

-   Adding TypeScript declaration file. [#190](https://github.com/C2FO/fast-csv/pull/190)

## v2.4.0

-   Allow renaming headers. [#175](https://github.com/C2FO/fast-csv/pull/175)

## v2.3.1

-   Now removes the byte order mark from a UTF-8 file if this is present. [#170](https://github.com/C2FO/fast-csv/pull/170)

## v2.3.0

-   Writing object ends up with function definitions [#158](https://github.com/C2FO/fast-csv/pull/158)

## v2.2.0

-   Handle split CRLF [#156](https://github.com/C2FO/fast-csv/pull/156) - [@alexeits](https://github.com/alexeits)

## v2.1.0

-   Now handles tab delimited CSVs with only spaces for field values
-   Handles CSVs with only spaces for field values

## v2.0.1

-   Fix for last column empty when line end with a delimiter.

## v2.0.0

-   Fast CSV will now handles the last column being empty.

## v1.1.0

-   Fix for when chunk returned by transform to the parser ends with a space
-   Functionality to give a reason when invalid data
-   Fix problem with utf8 encoded streams that have multi-byte characters
-   Allow passing sparse array of headers

## v1.0.0

-   Node 4 and 5 support.
-   Deprecating the `record` event.

## v0.6.0

-   Removed try catch from emit to allow bubbling up of errors to process, if one is thrown [#93](https://github.com/C2FO/fast-csv/issues/93)
    -   This also fixed issue [#92](https://github.com/C2FO/fast-csv/issues/92) where a loop was entered when `this.emit("error")` was called.
-   Added new tests

## v0.5.7

-   Strict record handling [#53](https://github.com/C2FO/fast-csv/pull/53) - [@derjust](https://github.com/derjust)

## v0.5.6

-   Fixed issue where parser_stream was emitting end early [#87](https://github.com/C2FO/fast-csv/issues/87)
    -   Changed to not emit end during flush
    -   Changed catch errors on emit and emit as "error" event
-   Added support for node `v0.12`

## v0.5.5

-   Fixed issues with ordering of headers when specifying headers in a write stream [#77](https://github.com/C2FO/fast-csv/pull/77)
-   Fixed issue where headers were not being written if no data was supplied to write stream.

## v0.5.4

-   Fixed issues with error handling and not registering an error handler on stream [#68](https://github.com/C2FO/fast-csv/issues/68)
-   Added support for ignoring quoting while parsing [#75](https://github.com/C2FO/fast-csv/issues/75)

## v0.5.3

-   Fixed issues with `v0.11` stream implementation [#73](https://github.com/C2FO/fast-csv/issues/73)
-   Fixed issues with `pause/resume` and data events in `v0.10` [#69](https://github.com/C2FO/fast-csv/issues/69)
-   Fixed the double invoking of done callback when parsing files [#68](https://github.com/C2FO/fast-csv/issues/68)
-   Refactored tests

## v0.5.2

-   Fixed issue with `writeToString` and `writeToPath` examples [#64](https://github.com/C2FO/fast-csv/issues/64)
-   Fixed issue with creating a csv without headers [#63](https://github.com/C2FO/fast-csv/issues/63)

## v0.5.1

-   Fixed issue where line data was not being passed between transforms in the parser_stream

## v0.5.0

-   Added support for async transforms [#24](https://github.com/C2FO/fast-csv/issues/24)
-   Added support for async validation
-   Added support for new data format

```
[
    [["header", "value1"], ["header2", "value2"]],
    [["header", "value2"], ["header2", "value2"]]
]
```

-   Added support for forcing the quoting columns and headers
    -   `quoteColumns` - Can be a boolean, object or array to specify how quoting should be done (see README)
    -   `quoteHeaders` - Can be a boolean, object or array to specify how quoting should be done (see README)
-   More tests
-   Code refactor and clean up

## v0.4.4

-   Added support for comments. [#56](https://github.com/C2FO/fast-csv/issues/56)

## v0.4.3

-   Added ability to include a `rowDelimiter` at the end of a csv with the `includeEndRowDelimiter` option [#54](https://github.com/C2FO/fast-csv/issues/54)
-   Added escaping for values that include a row delimiter
-   Added more tests for new feature and escaping row delimiter values.

## v0.4.2

-   Added ability to specify a rowDelimiter when creating a csv.
-   Added discardUnmappedColumns option to allow the ignoring of extra data [#45](https://github.com/C2FO/fast-csv/pull/45)

## v0.4.1

-   Fixed race condition that occurred if you called pause during a flush.

## v0.4.0

-   Fixed misspelling of `delimiter` [#40](https://github.com/C2FO/fast-csv/issues/40)

## v0.3.1

-   Added transform support to formatters
    -   When using `createWriteStream` you can now you the `transform` method to specify a row transformer.
    -   When using other transform methods you can specify a `transform` option.

## v0.3.0

-   You can now specify `objectMode` when parsing a csv which will cause `data` events to have an object emitted.
-   You can now pipe directly to the stream returned from `createWriteStream`
-   You can now transform csvs by piping output from parsing into a formatter.

## v0.2.5

-   Fixed issue where not all rows are emitted when using `pause` and `resume`

## v0.2.4

-   Added more fine grained control to `.pause` and `.resume`
    -   You can now pause resume between chunks

## v0.2.3

-   Add new `createWriteStream` for creating a streaming csv writer

## v0.2.2

-   Fixed issue with having line breaks containing `\r\n`

## v0.2.1

-   Fixed issue with `\r` line break in parser

## v0.2.0

-   Added multiline value support
-   Updated escaping logic
-   More performance enhancements
-   More robusts test cases
-   Removed support for having two quote types instead it just supports a single quote and escape sequence.
    Source code (zip)

## v0.1.2

-   Fixed issue with formatter handling undefined or null values.
-   Changed formatter not not include a new line at the end of a CSV.
-   Added pause and resume functionality to ParserStream

## v0.1.1

-   Added trim, ltrim, and rtrim to parsing options

## v0.1.0
